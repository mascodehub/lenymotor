const car_products = [
    {
        img: "../assets/mobil.png",
        price: "Rp. 460,000,000",
        name: "Honda CRV Turbo Prestige",
        location: "LENY NGASEM",
        year: "2020",
        km: "20.000 KM",
        transmission: "Matic",
        color: "Merah",
        cicilan: "Rp 1jt / Bulan"
    },
    {
        img: "../assets/mobil.png",
        price: "Rp. 250,000,000",
        name: "Toyota Yaris TRD",
        location: "LENY NGASEM",
        year: "2019",
        km: "15.000 KM",
        transmission: "Manual",
        color: "Putih",
        cicilan: "Rp 2jt / Bulan"
    },
    {
        img: "../assets/mobil.png",
        price: "Rp. 185,000,000",
        name: "Honda Jazz RS",
        location: "LENY NGASEM",
        year: "2018",
        km: "25.000 KM",
        transmission: "Matic",
        color: "Hitam",
        cicilan: "Rp 1,5jt / Bulan"
    },
    {
        img: "../assets/mobil.png",
        price: "Rp. 460,000,000",
        name: "Honda CRV Turbo Prestige",
        location: "LENY NGASEM",
        year: "2020",
        km: "20.000 KM",
        transmission: "Matic",
        color: "Merah",
        cicilan: "Rp 1jt / Bulan"
    },
    {
        img: "../assets/mobil.png",
        price: "Rp. 250,000,000",
        name: "Toyota Yaris TRD",
        location: "LENY NGASEM",
        year: "2019",
        km: "15.000 KM",
        transmission: "Manual",
        color: "Putih",
        cicilan: "Rp 2jt / Bulan"
    },
    {
        img: "../assets/mobil.png",
        price: "Rp. 185,000,000",
        name: "Honda Jazz RS",
        location: "LENY NGASEM",
        year: "2018",
        km: "25.000 KM",
        transmission: "Matic",
        color: "Hitam",
        cicilan: "Rp 1,5jt / Bulan"
    }
];

const motor_products = [
    {
        img: "../assets/Product-1.png",
        price: "Rp. 18,000,000",
        name: "Honda PCX 150",
        location: "LENY NGASEM",
        year: "2020",
        km: "12.500 KM",
        transmission: "Matic",
        color: "Hitam",
        cicilan: "Rp 700rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 15,500,000",
        name: "Yamaha NMAX 155",
        location: "LENY NGASEM",
        year: "2019",
        km: "10.000 KM",
        transmission: "Matic",
        color: "Putih",
        cicilan: "Rp 650rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 13,000,000",
        name: "Honda Vario 150",
        location: "LENY NGASEM",
        year: "2018",
        km: "15.000 KM",
        transmission: "Matic",
        color: "Merah",
        cicilan: "Rp 550rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 9,800,000",
        name: "Yamaha Mio M3",
        location: "LENY NGASEM",
        year: "2017",
        km: "20.000 KM",
        transmission: "Matic",
        color: "Biru",
        cicilan: "Rp 400rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 18,000,000",
        name: "Honda PCX 150",
        location: "LENY NGASEM",
        year: "2020",
        km: "12.500 KM",
        transmission: "Matic",
        color: "Hitam",
        cicilan: "Rp 700rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 15,500,000",
        name: "Yamaha NMAX 155",
        location: "LENY NGASEM",
        year: "2019",
        km: "10.000 KM",
        transmission: "Matic",
        color: "Putih",
        cicilan: "Rp 650rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 13,000,000",
        name: "Honda Vario 150",
        location: "LENY NGASEM",
        year: "2018",
        km: "15.000 KM",
        transmission: "Matic",
        color: "Merah",
        cicilan: "Rp 550rb / Bulan"
    },
    {
        img: "../assets/Product-1.png",
        price: "Rp. 9,800,000",
        name: "Yamaha Mio M3",
        location: "LENY NGASEM",
        year: "2017",
        km: "20.000 KM",
        transmission: "Matic",
        color: "Biru",
        cicilan: "Rp 400rb / Bulan"
    }
];

const testimonials = [
    {
        rating: 5.0,
        message: "Pelayanan ramah, proses cepat! Rekomendasi terbaik untuk mencari kendaraan second. Good job, puas banget!",
        product: "HONDA PCX 150 2022",
        date: "17/08/2025",
        image: "../assets/mobil.png"
    },
    {
        rating: 4.8,
        message: "Unit sesuai deskripsi, penjual jujur dan fast respon. Sangat puas!",
        product: "YAMAHA NMAX 2021",
        date: "10/07/2025",
        image: "../assets/mobil.png"
    },
    {
        rating: 4.9,
        message: "Motor masih sangat bagus, pelayanan terbaik dari LENY MOTOR!",
        product: "HONDA VARIO 160 2023",
        date: "05/05/2025",
        image: "../assets/mobil.png"
    },
    {
        rating: 4.9,
        message: "Motor masih sangat bagus, pelayanan terbaik dari LENY MOTOR!",
        product: "HONDA VARIO 160 2023",
        date: "05/05/2025",
        image: "../assets/mobil.png"
    }
];

const dealers = [
    {
        name: "Leny Motor Bandar",
        address: "Jl. Kh. Agus Salim No.12 Bandar Kidul - Kediri Jawa Timur 64118",
        phone: "(0354) 774195",
        whatsapp: "0813 3086 8885",
        image: "../assets/mobil.png",
        maps: "#"
    },
    {
        name: "Leny Motor Pare",
        address: "Jl. Raya Pamenang No.433 Ngasem - Kediri Jawa Timur 62154",
        phone: "",
        whatsapp: "0813 3086 8886",
        image: "../assets/mobil.png",
        maps: "#"
    },
    {
        name: "Leny Motor Blitar",
        address: "Jl. Letjen Panjaitan No.18 Tinalan - Kediri Jawa Timur 64131",
        phone: "",
        whatsapp: "0813 3086 8887",
        image: "../assets/mobil.png",
        maps: "#"
    },
    {
        name: "Leny Motor Blitar",
        address: "Jl. Kh. Agus Salim No.79 Bandar Kidul - Kediri Jawa Timur 64118",
        phone: "",
        whatsapp: "0811 3312 555",
        image: "../assets/mobil.png",
        maps: "#"
    }
];


$(document).ready(function () {
    const $carousel_motor = $("#carousel-motor");

    $.each(motor_products, function (i, p) {
        const card = `
            <div class="card position-relative"  style="width: 30rem;border-radius: 25px;margin: 0 15px;">
                <img src="${p.img}" class="card-img-top" alt="..." style="border-top-left-radius: 5.5%;border-top-right-radius: 5.5%;height: 397px; object-fit: cover;">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 36px;color: #D40000;">${p.price}</h5>
                    <div class="card-text">
                        <span class="d-block" style="margin: 5px 0px;">${p.name}</span>
                        <span class="d-block" style="margin: 5px 0px;">${p.location}</span>
                        <div class="card-detail mb-3" style="border: 2px solid #EFEFEF;border-radius: 10px;padding: 20px 0px;">
                            <table style="width: 100%;">
                                <tr class="text-center">
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/date.png" width="20" height="20">&nbsp;${p.year}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/road.png" width="20" height="20">&nbsp;${p.km}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/transmission.png" width="20" height="20">&nbsp;${p.transmission}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <i class="fa fa-circle" style="color: #D40000;"></i>&nbsp;${p.color}
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <span class="d-block" style="border: 2px solid #EFEFEF;border-radius: 30px;padding: 5px 20px;background-color: #EFEFEF;">
                            <div class="row">
                                <div class="col">
                                    <i class="fa fa-info-circle"></i> Cicilan Mulai
                                </div>
                                <div class="col" style="text-align: right;">
                                    ${p.cicilan}
                                </div>
                            </div>
                        </span>
                    </div>
                </div>
                <div class="position-absolute top-0 start-100 translate-middle shadow" style="background-color: white;border-radius: 100%; padding: 5px 10px;font-size: 18pt;margin-left: -40px;margin-top: 40px;">
                    <i class="far fa-star text-dark"></i>
                </div>
            </div>
        `;
        $carousel_motor.append(card);
    });

    let isDown = false;
    let startX, scrollLeft;

    $carousel_motor.on("mousedown", function (e) {
        isDown = true;
        startX = e.pageX;
        scrollLeft = $carousel_motor.scrollLeft();
        $carousel_motor.css("cursor", "grabbing");
        e.preventDefault(); // cegah block teks
    });

    $(window).on("mouseup", function () {
        isDown = false;
        $carousel_motor.css("cursor", "grab");
    });

    $carousel_motor.on("mousemove", function (e) {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX;
        const walk = (x - startX); // seberapa jauh mouse digeser
        $carousel_motor.scrollLeft(scrollLeft - walk);
    });

    const $carousel_mobil = $("#carousel-mobil");

    $.each(car_products, function (i, p) {
        const card = `
            <div class="card position-relative"  style="width: 30rem;border-radius: 25px;margin: 0 15px;">
                <img src="${p.img}" class="card-img-top" alt="..." style="border-top-left-radius: 5.5%;border-top-right-radius: 5.5%;height: 397px; object-fit: cover;">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 36px;color: #D40000;">${p.price}</h5>
                    <div class="card-text">
                        <span class="d-block" style="margin: 5px 0px;">${p.name}</span>
                        <span class="d-block" style="margin: 5px 0px;">${p.location}</span>
                        <div class="card-detail mb-3" style="border: 2px solid #EFEFEF;border-radius: 10px;padding: 20px 0px;">
                            <table style="width: 100%;">
                                <tr class="text-center">
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/date.png" width="20" height="20">&nbsp;${p.year}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/road.png" width="20" height="20">&nbsp;${p.km}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <img src="../assets/icon/transmission.png" width="20" height="20">&nbsp;${p.transmission}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="d-flex align-items-center justify-content-center text-center">
                                            <i class="fa fa-circle" style="color: #D40000;"></i>&nbsp;${p.color}
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <span class="d-block" style="border: 2px solid #EFEFEF;border-radius: 30px;padding: 5px 20px;background-color: #EFEFEF;">
                            <div class="row">
                                <div class="col">
                                    <i class="fa fa-info-circle"></i> Cicilan Mulai
                                </div>
                                <div class="col" style="text-align: right;">
                                    ${p.cicilan}
                                </div>
                            </div>
                        </span>
                    </div>
                </div>
                <div class="position-absolute top-0 start-100 translate-middle shadow" style="background-color: white;border-radius: 100%; padding: 5px 10px;font-size: 18pt;margin-left: -40px;margin-top: 40px;">
                    <i class="far fa-star text-dark"></i>
                </div>
            </div>
        `;
        $carousel_mobil.append(card);
    });

    $carousel_mobil.on("mousedown", function (e) {
        isDown = true;
        startX = e.pageX;
        scrollLeft = $carousel_mobil.scrollLeft();
        $carousel_mobil.css("cursor", "grabbing");
        e.preventDefault(); // cegah block teks
    });

    $(window).on("mouseup", function () {
        isDown = false;
        $carousel_mobil.css("cursor", "grab");
    });

    $carousel_mobil.on("mousemove", function (e) {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX;
        const walk = (x - startX); // seberapa jauh mouse digeser
        $carousel_mobil.scrollLeft(scrollLeft - walk);
    });

    $.each(testimonials, function (i, t) {
        let text = t.message;
        if (text.length > 90) {
            text = text.substring(0, text.lastIndexOf(" "));
            text = text.replace(/\s*\S+$/, " ...");
        };

        const card = `
                <div class="card position-relative" style="width: 18rem;border-radius: 25px;margin-right: 15px;">
                    <img src="${t.image}" class="card-img-top" alt="..."
                        style="border-top-left-radius: 5.5%;border-top-right-radius: 5.5%;height: 397px; object-fit: cover;">
                    <div class="card-body">
                        <span class="text-center" style="width: 100%;">
                            <h5 class="card-title d-flex align-items-center justify-content-center" style="font-size: 30px;">
                                ${t.rating} &nbsp;
                                ${'<img src="../assets/icon/star.png" width="36px">'.repeat(5)}
                            </h5>
                        </span>
                        <div class="card-text">
                            <span class="d-block" style="margin: 5px 5px;height: 75px;">
                                ${text}
                            </span>
                            <span class="d-block pt-4" style="margin: 5px 5px;color: #AFAFAF;">
                                ${t.product}
                            </span>
                            <span class="d-block" style="margin: 5px 5px;color: #AFAFAF">
                                ${t.date}
                            </span>
                        </div>
                    </div>
                </div>
            `;
        $("#card-s4").append(card);
    });

    $.each(dealers, function (index, dealer) {
        let contact = '';

        if(dealer.phone != ''){
            contact = `
                <span class="fw-bold" style="color: #D40000;">
                    <img src="../assets/icon/phone.png" alt="" width="24px"> ${dealer.phone}
                </span>
            `;
        }

        if(dealer.whatsapp != ''){
            contact = `
                ${contact}
                <span class="fw-bold" style="color: #D40000;">
                    <img src="../assets/icon/whatsapp.png" alt="" width="24px"> ${dealer.whatsapp}
                </span>
            `;
        }

        const card = `
                <div class="card position-relative" 
                    style="width: 18rem;border-radius: 20px;margin-right: 15px;">
                    <img src="${dealer.image}" class="card-img-top" alt="${dealer.name}"
                        style="border-top-left-radius: 5.5%;border-top-right-radius: 5.5%;
                        height: 397px;object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title" style="font-size: 30px;">
                            ${dealer.name}
                        </h5>
                        <div class="card-text">
                            <span class="d-block" style="margin: 5px 5px;color: #AFAFAF;height: 60px">
                                ${dealer.address}
                            </span>
                            <span class="d-flex text-center" 
                                style="margin: 5px 5px;color: #AFAFAF;justify-content: space-between;">
                                ${contact}
                            </span>
                            <hr>
                            <span class="d-block" style="margin: 25px 5px;color: #AFAFAF;">
                                <div class="row">
                                    <div class="col-8">
                                        <img src="../assets/icon/maps.png" alt="" width="24px">
                                        &nbsp;
                                        <a href="${dealer.maps}" target="_blank" style="text-decoration:none;color:#AFAFAF;">
                                            Lihat via Google Maps
                                        </a>
                                    </div>
                                    <div class="col" style="text-align: right;">
                                        <span class="shadow" 
                                            style="background-color: white;border-radius: 100%;
                                            font-size: 12pt;padding: 10px 13px;color: black;">
                                            <i class="fa fa-arrow-right"></i>
                                        </span>
                                    </div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            `;
        $("#card-s5").append(card);
    });
})